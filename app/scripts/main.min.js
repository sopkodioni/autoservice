const menuBtn=document.querySelector(".nav-btn"),mobileMenu=document.querySelector(".mobile-menu"),openMobileMenu=()=>{mobileMenu.classList.add("mobile-menu--open"),document.documentElement.style.overflowY="hidden"},closeMobileMenu=e=>{e.target.classList.contains("mobile-menu__close")&&(mobileMenu.classList.remove("mobile-menu--open"),document.documentElement.style.overflowY="scroll")};menuBtn.addEventListener("click",openMobileMenu),mobileMenu.addEventListener("click",closeMobileMenu);class Modal{constructor(e){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e),this.modals=document.querySelector(".modals"),this.modalContainer=!1,this.speed=!1,this.animation=!1,this.isOpen=!1,this.previusActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","textarea","[tabindex]"],this.events()}events(){this.modals&&(document.addEventListener("click",e=>{var t,s,o=e.target.closest("[data-modal-path]");if(o)return t=o.dataset.modalPath,s=o.dataset.animation,o=o.dataset.speed,this.animation=s||"fade",this.speed=o?parseInt(o):300,this.modalContainer=document.querySelector(`[data-modal-target="${t}"]`),void this.open();e.target.closest(".modals__close")&&this.close()}),window.addEventListener("keydown",e=>{27==e.keyCode&&this.isOpen&&this.close()}),this.modals.addEventListener("click",e=>{e.target.classList.contains(".modals__container")||e.target.closest(".modals__container")||!this.isOpen||this.close()}))}open(e){this.previusActiveElement=document.activeElement,this.modals.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modals.classList.add("modals--open"),this.disableScroll(),this.modalContainer.classList.add("modals__container--open"),this.modalContainer.classList.add(this.animation),setTimeout(()=>{this.modalContainer.classList.add("fade--animate-open"),this.options.isOpen(this),this.isOpen=!0,this.focusTrap()},this.speed)}close(){this.enableScroll(),this.options.isClose(this),this.modalContainer&&(this.modalContainer.classList.remove("fade--animate-open"),this.modalContainer.classList.remove(this.animation),this.modals.classList.remove("modals--open"),this.modalContainer.classList.remove("modals__container--open"),this.isOpen=!1,this.focusTrap())}focusCatch(e){}focusTrap(){const e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e&&e[0].focus():this.previusActiveElement.focus()}disableScroll(){}enableScroll(){}lockPadding(){}unlockPadding(){}}const modal=new Modal({isOpen:e=>{},isClose:e=>{}}),carsData=[{brand:"Mazda",models:["3","6","CX-5","CX-30","RX-7"]},{brand:"Mercedes",models:["GLC Coupe","G-Class SUV","C-Class Sedan","E-Class"]},{brand:"Audi",models:["Q3","Q4","Q5","A6"]}];function getTemplate(e,t,s,o){return`
        <div class="dropdown__button ${t}" data-type="btn">${o||"Select"}</div>
        <ul class="dropdown__list" data-simplebar>
            ${e.join(" ")}
        </ul>
        <input class="dropdown__input" type="text" value="" name="${s}">
    `}let selectedBrnad,generateModels;function dropdwonBrand(e,t){let o=document.querySelector(".dropdown-brand");e=e.map(e=>e.brand).map(e=>`<li class="dropdown__item" data-value="${e}">${e}</li>`);o.innerHTML=getTemplate(e,"dropdown__button--brands","car-brand",t);const n=o.querySelector(".dropdown__button");o.querySelector(".dropdown__list"),o.querySelector(".dropdown__item");const a=o.querySelector(".dropdown__input");o.addEventListener("click",function(e){var t=e.target.dataset["type"];const s=e.target;"btn"===t?(e.preventDefault(),o.classList.toggle("open")):s.classList.contains("dropdown__item")&&(n.innerText=s.innerText,a.value=s.innerText,selectedBrnad=s.innerText,n.classList.add("selected"),o.classList.remove("open"),generateModels())}),document.documentElement.addEventListener("click",e=>{e.target.classList.contains("dropdown__button")||o.classList.remove("open")})}function dropdwonModels(s,o){let n=document.querySelector(".dropdown-models");const a=n.querySelector(".dropdown__button"),i="car-models";generateModels=()=>{let e=s.find(e=>e.brand===selectedBrnad).models;var t=e.map(e=>`<li class="dropdown__item" data-value="${e}">${e}</li>`);a.classList.remove("disable"),n.innerHTML=getTemplate(t,"dropdown__button--models",i,o)};n.addEventListener("click",function(e){var t=e.target.dataset["type"];const s=e.target;if("btn"===t)e.preventDefault(),n.classList.toggle("open");else if(s.classList.contains("dropdown__item")){let e=s.closest(".dropdown");e.querySelector(".dropdown__button").innerText=s.innerText,e.querySelector(".dropdown__input").value=s.innerText,e.querySelector(".dropdown__button").classList.add("selected")}}),document.documentElement.addEventListener("click",e=>{e.target.classList.contains("dropdown__button--models")||n.classList.remove("open")})}dropdwonBrand(carsData,"You car"),dropdwonModels(carsData,"Model");